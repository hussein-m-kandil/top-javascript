{"version":3,"file":"odin-form-validation.0a9b40c55951397231b8.bundle.js","mappings":"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","sources":["webpack://top-javascript-study/./odin-form-validation/index.js"],"sourcesContent":["import './index.css';\n\nconst REQUIRED_ERR = 'This field is required!';\nconst EMAIL_ERR = 'Has \"@\" and \".\": e.g. anything@anywhere.any!';\nconst NAME_ERR = 'At least 3 characters!';\nconst PASS_ERR = 'At least 8 characters contains [0-9], [a-z] and [A-Z]!';\nconst PASS_CONFIRM_ERR = 'Password confirmation does not match!';\n\nconst submitButton = document.querySelector('form button[type=\"submit\"]');\nsubmitButton.disabled = true;\n\nconst name = document.querySelector('#name');\nconst email = document.querySelector('#email');\nconst country = document.querySelector('#country');\ncountry.classList.add('valid');\nconst zip = document.querySelector('#zip');\nconst password = document.querySelector('#pass');\nconst passwordConfirmation = document.querySelector('#pass-confirm');\n\nconst zipConstraints = {\n  eg: [\n    /^(EG-)?\\d{5}$/,\n    'Egypt ZIPs must have exactly 5 digits: e.g. EG-12946 or 12946',\n  ],\n  p: [\n    /^(P-)?\\d{3}$/,\n    'Palestine ZIPs must have exactly 3 digits: e.g. P-195 or 195',\n  ],\n  lb: [\n    /^(LB-)?\\d{4}((-|\\s)?\\d{4})?$/,\n    'Lebanon ZIPs must have 4 or 8 digits: e.g. LB-75013245 or LB-7501 or 75013245 or 7501 or 7501 3245 or 7501-3245',\n  ],\n  iq: [\n    /^(IQ-)?\\d{5}$/,\n    'Iraq ZIPs must have exactly 5 digits: e.g. IQ-19523 or 19523',\n  ],\n};\n\nconst isValidPassword = (pass) => {\n  return (\n    pass.length >= 8 &&\n    /[a-z]+/.test(pass) &&\n    /[A-Z]+/.test(pass) &&\n    /\\d+/.test(pass)\n  );\n};\n\nconst createErrorSpan = (message) => {\n  const errorSpan = document.createElement('span');\n  errorSpan.className = 'error';\n  errorSpan.textContent = message;\n  return errorSpan;\n};\n\n/** This function uses all of the previous global variables/functions */\nconst validateInput = (targetInput) => {\n  const targetLabel = targetInput.previousElementSibling;\n  const errorSpan = targetLabel?.querySelector('span.error');\n  if (targetInput.value.length < 1) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(REQUIRED_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = REQUIRED_ERR;\n    }\n  } else if (\n    targetInput.id === 'email' &&\n    !/^[\\w-.]+@[\\w-.]+\\.[a-zA-Z]+$/.test(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(EMAIL_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = EMAIL_ERR;\n    }\n  } else if (targetInput.id === 'name' && targetInput.value.length < 3) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(NAME_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = NAME_ERR;\n    }\n  } else if (\n    targetInput.id === 'zip' &&\n    !zipConstraints[country.value][0].test(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(\n        createErrorSpan(zipConstraints[country.value][1]),\n      );\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = zipConstraints[country.value][1];\n    }\n  } else if (\n    (targetInput.id === 'pass' || targetInput.id === 'pass-confirm') &&\n    !isValidPassword(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(PASS_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = PASS_ERR;\n    }\n  } else if (\n    (targetInput.id === 'pass' || targetInput.id === 'pass-confirm') &&\n    passwordConfirmation.value !== ''\n  ) {\n    if (password.value !== passwordConfirmation.value) {\n      if (!errorSpan) {\n        targetLabel?.appendChild(createErrorSpan(PASS_CONFIRM_ERR));\n        if (!targetInput.classList.replace('valid', 'invalid')) {\n          targetInput.classList.add('invalid');\n        }\n      } else {\n        errorSpan.textContent = PASS_CONFIRM_ERR;\n      }\n    } else {\n      password.previousElementSibling?.querySelector('span.error')?.remove();\n      if (!password.classList.replace('invalid', 'valid')) {\n        password.classList.add('valid');\n      }\n      passwordConfirmation.previousElementSibling\n        ?.querySelector('span.error')\n        ?.remove();\n      if (!passwordConfirmation.classList.replace('invalid', 'valid')) {\n        passwordConfirmation.classList.add('valid');\n      }\n    }\n  } else if (errorSpan) {\n    errorSpan.remove();\n    targetInput.classList.replace('invalid', 'valid');\n  }\n};\n\nconst handleInputValidation = (event) => {\n  validateInput(event.target);\n};\n\nconst checkAllInputsValidity = () => {\n  const allInputs = [name, email, country, zip, password, passwordConfirmation];\n  for (let i = 0; i < allInputs.length; i++) {\n    if (\n      allInputs[i].classList.contains('invalid') ||\n      !allInputs[i].classList.contains('valid')\n    ) {\n      return false;\n    }\n    validateInput(allInputs[i]);\n    if (allInputs[i].classList.contains('invalid')) {\n      return false;\n    }\n  }\n  return true;\n};\n\nname.addEventListener('input', handleInputValidation);\nemail.addEventListener('input', handleInputValidation);\nzip.addEventListener('input', handleInputValidation);\npassword.addEventListener('input', handleInputValidation);\npasswordConfirmation.addEventListener('input', handleInputValidation);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('input', () => {\n  submitButton.disabled = !checkAllInputsValidity();\n});\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  if (checkAllInputsValidity()) {\n    const highFive = document.createElement('div');\n    highFive.className = 'high-five';\n    highFive.textContent = 'âœ‹ Thank you ðŸ˜‰';\n    [...document.body.children].forEach((node) =>\n      document.body.removeChild(node),\n    );\n    document.body.appendChild(highFive);\n  }\n});\n"],"names":["REQUIRED_ERR","EMAIL_ERR","NAME_ERR","PASS_ERR","PASS_CONFIRM_ERR","submitButton","document","querySelector","disabled","name","email","country","classList","add","zip","password","passwordConfirmation","zipConstraints","eg","p","lb","iq","createErrorSpan","message","errorSpan","createElement","className","textContent","validateInput","targetInput","pass","targetLabel","previousElementSibling","value","length","appendChild","replace","id","test","remove","_password$previousEle","_passwordConfirmation","handleInputValidation","event","target","checkAllInputsValidity","allInputs","i","contains","addEventListener","form","preventDefault","highFive","body","children","forEach","node","removeChild"],"sourceRoot":""}