{"version":3,"file":"odin-knights-travails.608d9ccf35441118ac0c.bundle.js","mappings":"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","sources":["webpack://top-javascript-study/./odin-knights-travails/helpers/createElement.js","webpack://top-javascript-study/./odin-knights-travails/knight-moves/create-chess-board-graph.js","webpack://top-javascript-study/./odin-knights-travails/index.js","webpack://top-javascript-study/./odin-knights-travails/knight-moves/knight-moves.js"],"sourcesContent":["/**\n * Creates HTMLElement of the given 'tagName' with any of the given\n * className, id or attributes\n * @param {string} tagName\n * @param {string?} className\n * @param {string?} textContent\n * @param {Array<string, string>?} attrs\n * - Any number of attributes (each of which as a key-value pair)\n * @returns {HTMLElement}\n */\nexport default function createElement(\n  tagName,\n  className,\n  textContent,\n  ...attrs\n) {\n  if (typeof tagName !== 'string') {\n    throw TypeError(\"Missing 'tagName' of type 'string'!\");\n  }\n  const element = document.createElement(tagName);\n  if (className) element.className = className;\n  if (textContent) element.textContent = textContent;\n  // Flatten attrs 1 level depth (in case attrs is in the form of an Array of paris)\n  if (\n    attrs.length === 1 &&\n    Array.isArray(attrs[0]) &&\n    Array.isArray(attrs[0][0])\n  ) {\n    attrs = attrs.flat(1);\n  }\n  if (attrs.length > 0) {\n    for (let i = 0; i < attrs.length; i++) {\n      if (\n        Array.isArray(attrs[i]) &&\n        attrs[i].length === 2 &&\n        attrs[i][0] &&\n        typeof attrs[i][0] === 'string'\n      ) {\n        if (attrs[i][1] || attrs[i][1] === 0 || attrs[i][1] === '') {\n          element.setAttribute(attrs[i][0], attrs[i][1]);\n        }\n      } else {\n        throw TypeError(\n          \"A given attribute in '...attrs' must be in the form of [string, string]\",\n        );\n      }\n    }\n  }\n  return element;\n}\n\nexport { createElement };\n","function getKnightPossibleMoves([currentX, currentY]) {\n  const destinations = [];\n  const modifiers = [\n    [1, 2],\n    [2, 1],\n    [-1, 2],\n    [-2, 1],\n    [-1, -2],\n    [-2, -1],\n    [1, -2],\n    [2, -1],\n  ];\n  modifiers.forEach(([xMod, yMod]) => {\n    const possibleX = currentX + xMod;\n    const possibleY = currentY + yMod;\n    if (possibleX >= 0 && possibleX < 8 && possibleY >= 0 && possibleY < 8)\n      destinations.push([possibleX, possibleY]);\n  });\n  return destinations;\n}\n\nexport default function createChessBoardGraph() {\n  const chessBoard = [];\n  for (let i = 0; i < 8; i++) {\n    chessBoard[i] = [];\n    for (let j = 0; j < 8; j++) {\n      chessBoard[i][j] = getKnightPossibleMoves([i, j]);\n    }\n  }\n  return chessBoard;\n}\n\nexport { createChessBoardGraph };\n","import './index.css';\nimport { createElement } from './helpers/createElement';\nimport { createChessBoardGraph } from './knight-moves/create-chess-board-graph';\nimport { knightMoves } from './knight-moves';\n\n// Create page's head (title)\nconst head = createElement('h1', 'head', 'Odin Knights Travails');\n\n// Create instructions paragraph\nconst instructions = createElement(\n  'p',\n  'instructions',\n  'Click on any square and the Knight should move to it through one of the shortest possible routes.',\n);\n\n// Create the knight shape\nconst knight = createElement('div', 'knight');\nknight.append(createElement('div', 'knight-shape'));\n\n// Prepare a placeholder to hold Knight's current place\nconst knightPlace = [0, 0];\n\n// Prepare a placeholder to hold the moves (steps)\nconst moves = [];\n\n// Create the chess board graph (Just to avoid creating it each time we compute Knight's move)\nconst chessBoardGraph = createChessBoardGraph();\n\n// Create the chess board UI\nconst chessBoard = createElement('div', 'chess-board');\nfor (let i = 0; i < 8; i++) {\n  const row = createElement('div', 'row');\n  for (let j = 0; j < 8; j++) {\n    const square = createElement('div', 'square');\n    row.append(square);\n    // On click\n    square.addEventListener('click', () => {\n      // Remove highlight from all highlighted squares, if any!\n      moves.forEach(([x, y], index) => {\n        if (index !== moves.length - 1) {\n          const move = chessBoard.children.item(x).children.item(y);\n          move.classList.remove('highlight');\n          move.querySelector('.step-count')?.remove();\n        }\n      });\n      // Remove all old moves\n      moves.splice(0);\n      // Get new moves\n      moves.push(...knightMoves(knightPlace, [i, j], chessBoardGraph));\n      // Highlight all squares we moves on, except the last move\n      moves.forEach(([x, y], index) => {\n        if (index !== moves.length - 1) {\n          const move = chessBoard.children.item(x).children.item(y);\n          move.classList.add('highlight');\n          move.append(createElement('div', 'step-count', String(index)));\n        }\n      });\n      // Set Knight's current place to the last move place\n      [knightPlace[0], knightPlace[1]] = moves.at(-1);\n      // Move the Knight to its new place\n      chessBoard.children\n        .item(knightPlace[0])\n        .children.item(knightPlace[1])\n        .append(knight);\n    });\n  }\n  chessBoard.append(row);\n}\n\n// Place the Knight on the default place\nchessBoard.children\n  .item(knightPlace[0])\n  .children.item(knightPlace[1])\n  .append(knight);\n\n// Append all components to body\ndocument.body.append(head, instructions, chessBoard);\n","import { createChessBoardGraph } from './create-chess-board-graph.js';\n\n/**\n * Returns one of the shortest routes a Knight can take from the given starting place to the given destination\n * @param {[number, number]} from - Knight's starting place\n * @param {[number, number]} to - Knight's destination\n * @param {[number, number][][][]?} chessBoard\n * (Optional) Two-dim Array (8 x 8) of pairs of numbers; chess board, each square has all possible Knight's moves\n * @returns {[number, number][]} - The shortest route from the starting place to the destination\n */\nexport default function knightMoves(from, to, chessBoard) {\n  if (\n    arguments.length < 2 ||\n    arguments.length > 3 ||\n    !Array.isArray(from) ||\n    !Array.isArray(to) ||\n    from.length !== 2 ||\n    to.length !== 2 ||\n    !from.every((n) => Number.isInteger(n) && n >= 0 && n < 8) ||\n    !to.every((n) => Number.isInteger(n) && n >= 0 && n < 8)\n  ) {\n    throw TypeError(\n      `Expect 2 or 3 arguments; 2 pairs of numbers and optional chess board matrix! given (${Array.from(arguments).join(', ')})`,\n    );\n  }\n\n  if (!chessBoard) {\n    chessBoard = createChessBoardGraph();\n  }\n\n  let shortestPath = [];\n  let possibleMoves = [from];\n  const q = [[shortestPath, possibleMoves]];\n\n  // While current possible moves does not include out destination\n  while (possibleMoves.every(([x, y]) => !(x === to[0] && y === to[1]))) {\n    const [path, moves] = q.shift();\n    // Enqueue copies of the current path each of which ends on one of the current possible moves\n    moves.forEach(([x, y]) => {\n      q.push([[...path, [x, y]], chessBoard[x][y]]);\n    });\n    shortestPath = q[0][0];\n    possibleMoves = q[0][1];\n  }\n\n  shortestPath.push(to);\n\n  return shortestPath;\n}\n\nexport { knightMoves };\n"],"names":["createElement","tagName","className","textContent","_len","arguments","length","attrs","Array","_key","TypeError","element","document","isArray","flat","i","setAttribute","getKnightPossibleMoves","_ref","_ref2","_slicedToArray","currentX","currentY","destinations","forEach","_ref3","_ref4","xMod","yMod","possibleX","possibleY","push","createChessBoardGraph","chessBoard","j","head","instructions","knight","append","knightPlace","moves","chessBoardGraph","_loop","row","_loop2","square","addEventListener","index","x","y","_move$querySelector","move","children","item","classList","remove","querySelector","splice","apply","from","to","every","n","Number","isInteger","concat","join","shortestPath","possibleMoves","q","_q$shift2","shift","path","knightMoves","add","String","_moves$at2","at","body"],"sourceRoot":""}