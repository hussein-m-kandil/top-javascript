{"version":3,"file":"odin-form-validation.bbe847b38d37ab643c02.bundle.js","mappings":"yBAEA,MAAMA,EAAe,0BACfC,EAAY,+CACZC,EAAW,yBACXC,EAAW,yDACXC,EAAmB,wCAEnBC,EAAeC,SAASC,cAAc,8BAC5CF,EAAaG,UAAW,EAExB,MAAMC,EAAOH,SAASC,cAAc,SAC9BG,EAAQJ,SAASC,cAAc,UAC/BI,EAAUL,SAASC,cAAc,YACvCI,EAAQC,UAAUC,IAAI,SACtB,MAAMC,EAAMR,SAASC,cAAc,QAC7BQ,EAAWT,SAASC,cAAc,SAClCS,EAAuBV,SAASC,cAAc,iBAE9CU,EAAiB,CACrBC,GAAI,CACF,gBACA,iEAEFC,EAAG,CACD,eACA,gEAEFC,GAAI,CACF,+BACA,mHAEFC,GAAI,CACF,gBACA,iEAaEC,EAAmBC,IACvB,MAAMC,EAAYlB,SAASmB,cAAc,QAGzC,OAFAD,EAAUE,UAAY,QACtBF,EAAUG,YAAcJ,EACjBC,CAAS,EAIZI,EAAiBC,IACrB,MAAMC,EAAcD,EAAYE,uBAC1BP,EAAYM,GAAavB,cAAc,cAnBtByB,MAoBnBH,EAAYI,MAAMC,OAAS,EACxBV,EAMHA,EAAUG,YAAc3B,GALxB8B,GAAaK,YAAYb,EAAgBtB,IACpC6B,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,YAMX,UAAnBgB,EAAYQ,IACX,+BAA+BC,KAAKT,EAAYI,OAUrB,SAAnBJ,EAAYQ,IAAiBR,EAAYI,MAAMC,OAAS,EAC5DV,EAMHA,EAAUG,YAAczB,GALxB4B,GAAaK,YAAYb,EAAgBpB,IACpC2B,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,YAMX,QAAnBgB,EAAYQ,IACXpB,EAAeN,EAAQsB,OAAO,GAAGK,KAAKT,EAAYI,OAa/B,SAAnBJ,EAAYQ,IAAoC,iBAAnBR,EAAYQ,KAjErBL,EAkEJH,EAAYI,OAhExBC,QAAU,GACf,SAASI,KAAKN,IACd,SAASM,KAAKN,IACd,MAAMM,KAAKN,GAwES,SAAnBH,EAAYQ,IAAoC,iBAAnBR,EAAYQ,IACX,KAA/BrB,EAAqBiB,MAuBZT,IACTA,EAAUe,SACVV,EAAYjB,UAAUwB,QAAQ,UAAW,UAvBrCrB,EAASkB,QAAUjB,EAAqBiB,MACrCT,EAMHA,EAAUG,YAAcvB,GALxB0B,GAAaK,YAAYb,EAAgBlB,IACpCyB,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,aAM9BE,EAASgB,wBAAwBxB,cAAc,eAAegC,SACzDxB,EAASH,UAAUwB,QAAQ,UAAW,UACzCrB,EAASH,UAAUC,IAAI,SAEzBG,EAAqBe,wBACjBxB,cAAc,eACdgC,SACCvB,EAAqBJ,UAAUwB,QAAQ,UAAW,UACrDpB,EAAqBJ,UAAUC,IAAI,UA9BlCW,EAMHA,EAAUG,YAAcxB,GALxB2B,GAAaK,YAAYb,EAAgBnB,IACpC0B,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,YAjBzBW,EAQHA,EAAUG,YAAcV,EAAeN,EAAQsB,OAAO,IAPtDH,GAAaK,YACXb,EAAgBL,EAAeN,EAAQsB,OAAO,KAE3CJ,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,YA1BzBW,EAMHA,EAAUG,YAAc1B,GALxB6B,GAAaK,YAAYb,EAAgBrB,IACpC4B,EAAYjB,UAAUwB,QAAQ,QAAS,YAC1CP,EAAYjB,UAAUC,IAAI,WAoEhC,EAGI2B,EAAyBC,IAC7Bb,EAAca,EAAMC,OAAO,EAGvBC,EAAyBA,KAC7B,MAAMC,EAAY,CAACnC,EAAMC,EAAOC,EAASG,EAAKC,EAAUC,GACxD,IAAK,IAAI6B,EAAI,EAAGA,EAAID,EAAUV,OAAQW,IAAK,CACzC,GACED,EAAUC,GAAGjC,UAAUkC,SAAS,aAC/BF,EAAUC,GAAGjC,UAAUkC,SAAS,SAEjC,OAAO,EAGT,GADAlB,EAAcgB,EAAUC,IACpBD,EAAUC,GAAGjC,UAAUkC,SAAS,WAClC,OAAO,CAEX,CACA,OAAO,CAAI,EAGbrC,EAAKsC,iBAAiB,QAASP,GAC/B9B,EAAMqC,iBAAiB,QAASP,GAChC1B,EAAIiC,iBAAiB,QAASP,GAC9BzB,EAASgC,iBAAiB,QAASP,GACnCxB,EAAqB+B,iBAAiB,QAASP,GAE/C,MAAMQ,EAAO1C,SAASC,cAAc,QAEpCyC,EAAKD,iBAAiB,SAAS,KAC7B1C,EAAaG,UAAYmC,GAAwB,IAGnDK,EAAKD,iBAAiB,UAAWN,IAE/B,GADAA,EAAMQ,iBACFN,IAA0B,CAC5B,MAAMO,EAAW5C,SAASmB,cAAc,OACxCyB,EAASxB,UAAY,YACrBwB,EAASvB,YAAc,iBACvB,IAAIrB,SAAS6C,KAAKC,UAAUC,SAASC,GACnChD,SAAS6C,KAAKI,YAAYD,KAE5BhD,SAAS6C,KAAKhB,YAAYe,EAC5B,I","sources":["webpack://top-javascript-study/./odin-form-validation/index.js"],"sourcesContent":["import './index.css';\n\nconst REQUIRED_ERR = 'This field is required!';\nconst EMAIL_ERR = 'Has \"@\" and \".\": e.g. anything@anywhere.any!';\nconst NAME_ERR = 'At least 3 characters!';\nconst PASS_ERR = 'At least 8 characters contains [0-9], [a-z] and [A-Z]!';\nconst PASS_CONFIRM_ERR = 'Password confirmation does not match!';\n\nconst submitButton = document.querySelector('form button[type=\"submit\"]');\nsubmitButton.disabled = true;\n\nconst name = document.querySelector('#name');\nconst email = document.querySelector('#email');\nconst country = document.querySelector('#country');\ncountry.classList.add('valid');\nconst zip = document.querySelector('#zip');\nconst password = document.querySelector('#pass');\nconst passwordConfirmation = document.querySelector('#pass-confirm');\n\nconst zipConstraints = {\n  eg: [\n    /^(EG-)?\\d{5}$/,\n    'Egypt ZIPs must have exactly 5 digits: e.g. EG-12946 or 12946',\n  ],\n  p: [\n    /^(P-)?\\d{3}$/,\n    'Palestine ZIPs must have exactly 3 digits: e.g. P-195 or 195',\n  ],\n  lb: [\n    /^(LB-)?\\d{4}((-|\\s)?\\d{4})?$/,\n    'Lebanon ZIPs must have 4 or 8 digits: e.g. LB-75013245 or LB-7501 or 75013245 or 7501 or 7501 3245 or 7501-3245',\n  ],\n  iq: [\n    /^(IQ-)?\\d{5}$/,\n    'Iraq ZIPs must have exactly 5 digits: e.g. IQ-19523 or 19523',\n  ],\n};\n\nconst isValidPassword = (pass) => {\n  return (\n    pass.length >= 8 &&\n    /[a-z]+/.test(pass) &&\n    /[A-Z]+/.test(pass) &&\n    /\\d+/.test(pass)\n  );\n};\n\nconst createErrorSpan = (message) => {\n  const errorSpan = document.createElement('span');\n  errorSpan.className = 'error';\n  errorSpan.textContent = message;\n  return errorSpan;\n};\n\n/** This function uses all of the previous global variables/functions */\nconst validateInput = (targetInput) => {\n  const targetLabel = targetInput.previousElementSibling;\n  const errorSpan = targetLabel?.querySelector('span.error');\n  if (targetInput.value.length < 1) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(REQUIRED_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = REQUIRED_ERR;\n    }\n  } else if (\n    targetInput.id === 'email' &&\n    !/^[\\w-.]+@[\\w-.]+\\.[a-zA-Z]+$/.test(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(EMAIL_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = EMAIL_ERR;\n    }\n  } else if (targetInput.id === 'name' && targetInput.value.length < 3) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(NAME_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = NAME_ERR;\n    }\n  } else if (\n    targetInput.id === 'zip' &&\n    !zipConstraints[country.value][0].test(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(\n        createErrorSpan(zipConstraints[country.value][1]),\n      );\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = zipConstraints[country.value][1];\n    }\n  } else if (\n    (targetInput.id === 'pass' || targetInput.id === 'pass-confirm') &&\n    !isValidPassword(targetInput.value)\n  ) {\n    if (!errorSpan) {\n      targetLabel?.appendChild(createErrorSpan(PASS_ERR));\n      if (!targetInput.classList.replace('valid', 'invalid')) {\n        targetInput.classList.add('invalid');\n      }\n    } else {\n      errorSpan.textContent = PASS_ERR;\n    }\n  } else if (\n    (targetInput.id === 'pass' || targetInput.id === 'pass-confirm') &&\n    passwordConfirmation.value !== ''\n  ) {\n    if (password.value !== passwordConfirmation.value) {\n      if (!errorSpan) {\n        targetLabel?.appendChild(createErrorSpan(PASS_CONFIRM_ERR));\n        if (!targetInput.classList.replace('valid', 'invalid')) {\n          targetInput.classList.add('invalid');\n        }\n      } else {\n        errorSpan.textContent = PASS_CONFIRM_ERR;\n      }\n    } else {\n      password.previousElementSibling?.querySelector('span.error')?.remove();\n      if (!password.classList.replace('invalid', 'valid')) {\n        password.classList.add('valid');\n      }\n      passwordConfirmation.previousElementSibling\n        ?.querySelector('span.error')\n        ?.remove();\n      if (!passwordConfirmation.classList.replace('invalid', 'valid')) {\n        passwordConfirmation.classList.add('valid');\n      }\n    }\n  } else if (errorSpan) {\n    errorSpan.remove();\n    targetInput.classList.replace('invalid', 'valid');\n  }\n};\n\nconst handleInputValidation = (event) => {\n  validateInput(event.target);\n};\n\nconst checkAllInputsValidity = () => {\n  const allInputs = [name, email, country, zip, password, passwordConfirmation];\n  for (let i = 0; i < allInputs.length; i++) {\n    if (\n      allInputs[i].classList.contains('invalid') ||\n      !allInputs[i].classList.contains('valid')\n    ) {\n      return false;\n    }\n    validateInput(allInputs[i]);\n    if (allInputs[i].classList.contains('invalid')) {\n      return false;\n    }\n  }\n  return true;\n};\n\nname.addEventListener('input', handleInputValidation);\nemail.addEventListener('input', handleInputValidation);\nzip.addEventListener('input', handleInputValidation);\npassword.addEventListener('input', handleInputValidation);\npasswordConfirmation.addEventListener('input', handleInputValidation);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('input', () => {\n  submitButton.disabled = !checkAllInputsValidity();\n});\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  if (checkAllInputsValidity()) {\n    const highFive = document.createElement('div');\n    highFive.className = 'high-five';\n    highFive.textContent = 'âœ‹ Thank you ðŸ˜‰';\n    [...document.body.children].forEach((node) =>\n      document.body.removeChild(node),\n    );\n    document.body.appendChild(highFive);\n  }\n});\n"],"names":["REQUIRED_ERR","EMAIL_ERR","NAME_ERR","PASS_ERR","PASS_CONFIRM_ERR","submitButton","document","querySelector","disabled","name","email","country","classList","add","zip","password","passwordConfirmation","zipConstraints","eg","p","lb","iq","createErrorSpan","message","errorSpan","createElement","className","textContent","validateInput","targetInput","targetLabel","previousElementSibling","pass","value","length","appendChild","replace","id","test","remove","handleInputValidation","event","target","checkAllInputsValidity","allInputs","i","contains","addEventListener","form","preventDefault","highFive","body","children","forEach","node","removeChild"],"sourceRoot":""}