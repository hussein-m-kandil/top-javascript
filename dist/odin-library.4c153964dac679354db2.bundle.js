!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,"string");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:String(r)}function n(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function a(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}var o=function(){function e(t,r,o,l){var d,c,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=String(function(e,t,r,o){return a(e,t),n(r,"set"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,r,o),o}(e,e,i,(u=i,a(c=e,e),n(u,"get"),d=function(e,t){return t.get?t.get.call(e):t.value}(c,u),++d))),this.title=t,this.author=r,this.numOfPages=o,this.readState=Boolean(l)}var r,o;return r=e,(o=[{key:"setReadState",value:function(e){"boolean"==typeof e&&(this.readState=e)}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(),i={writable:!0,value:0};function l(e,t){if(e&&e.setAttribute&&t&&Array.isArray(t))for(var r=0;r<t.length;r++)Array.isArray(t)&&2===t[r].length&&e.setAttribute(t[r][0],t[r][1])}function d(e,t,r){var n=document.createElement("label");e&&"string"==typeof e&&n.appendChild(document.createTextNode(e)),l(n,t);var a=document.createElement("input");return l(a,r),[n,a]}function c(e,t){var r=document.createElement("span");return r.className=null!=t?t:"",r.appendChild(document.createTextNode(null!=e?e:"")),r}function u(e,t){var r=document.createElement("div");return r.className="book-card-entry",r.appendChild(c(e+": ","book-card-entry-title")),r.appendChild(c(t,"book-card-entry-data")),r}function s(e,t,r,n,a,o,i,l){e.textContent=t,e.classList.replace(r,n),e.classList.replace(l,i),a.textContent=o,a.classList.replace(i,l)}function p(e,t,r,n,a){var o=document.createElement("button");return o.appendChild(document.createTextNode(e)),o.setAttribute("type",t),o.className=null!=r?r:"",o.id=null!=n?n:"",o.value=null!=a?a:"",o}function m(e,t){if(localStorage){var r=JSON.stringify(t);r.length<3145728&&localStorage.setItem(e,r)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],d=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(e){c=!0,a=e}finally{try{if(!d&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b="odin-library-books";function v(e,t,r){var n=document.createElement("div");n.className="book-card";var a=document.createElement("div").appendChild(document.createTextNode(e.title)).parentElement;a.className="book-card-title";var o=document.createElement("div");o.className="book-card-body",o.appendChild(u("Author",e.author)),o.appendChild(u("Number of Pages",e.numOfPages));var i=u("Read",e.readState?"Yes":"No");i.id="read-state-"+e.id,i.lastChild.classList.add(e.readState?"success-text":"danger-text"),o.appendChild(i);var l=document.createElement("div");l.className="book-card-buttons";var d=p("Mark as "+(e.readState?"not read":"read"),"button",e.readState?"danger-border danger-text":"success-border success-text","read-state-toggler-"+e.id,e.id);d.addEventListener("click",(function(e){for(var t=e.target.value,n=0;n<r.length;n++)if(r[n].id===t){r[n].setReadState(!r[n].readState),r[n].readState?s(e.target,"Mark as not read","success-border","danger-border",document.querySelector("#read-state-"+t).lastChild,"Yes","danger-text","success-text"):s(e.target,"Mark as read","danger-border","success-border",document.querySelector("#read-state-"+t).lastChild,"No","success-text","danger-text");break}m(b,r)}));var c=p("Delete","button","danger-text danger-border","book-card-del-btn-"+e.id,e.id);c.addEventListener("click",(function(e){for(var t=0;t<r.length;t++)if(r[t].id===e.target.value){r.splice(t,1);try{var n;null===(n=document.querySelector(".books-container"))||void 0===n||n.removeChild(e.target.parentElement.parentElement)}catch(e){console.log(e.message)}break}m(b,r)})),l.append(d,c),n.append(a,o,l),t.insertBefore(n,t.firstChild)}function y(e,t){var r=document.createElement("form");r.className="new-book-form";var n=f(d("Title: ",[["for","title"]],[["type","text"],["id","title"],["name","title"],["autocomplete","on"],["required",""]]),2),a=n[0],i=n[1];window.HTMLDialogElement&&(i.autofocus=!0),r.appendChild(document.createElement("div").appendChild(a).parentElement.appendChild(i).parentElement);var l=f(d("Author: ",[["for","author"]],[["type","text"],["id","author"],["name","author"],["autocomplete","on"],["required",""]]),2),c=l[0],u=l[1];r.appendChild(document.createElement("div").appendChild(c).parentElement.appendChild(u).parentElement);var s=f(d("Number of Pages: ",[["for","pages-number"]],[["type","tel"],["id","pages-number"],["name","pages-number"],["pattern","^[0-9]{1,7}$"],["autocomplete","on"],["required",""]]),2),h=s[0],y=s[1];y.addEventListener("invalid",(function(e){e.target.validity.patternMismatch?e.target.setCustomValidity("Numbers only are allowed here."):e.target.setCustomValidity("")})),y.addEventListener("input",(function(e){e.target.checkValidity()&&e.target.validity.customError&&e.target.setCustomValidity("")})),r.appendChild(document.createElement("div").appendChild(h).parentElement.appendChild(y).parentElement);var g=f(d(" Did you read this book?",[["for","read-state"]],[["type","checkbox"],["id","read-state"],["name","read-state"]]),2),E=g[0],C=g[1];r.appendChild(document.createElement("div").appendChild(C).parentElement.appendChild(E).parentElement);var S=p("Add New Book","submit","success-color");r.appendChild(document.createElement("div").appendChild(S).parentElement),e.appendChild(r),r.addEventListener("submit",(function(e){e.preventDefault();var r=e.target.elements,n=new o(r.title.value,r.author.value,r["pages-number"].value,r["read-state"].checked);t.unshift(n),m(b,t),v(n,document.querySelector(".books-container"),t);for(var a=0;a<r.length;a++)r[a].value="","checkbox"===r[a].type&&(r[a].checked=!1);e.target.parentElement instanceof HTMLDialogElement&&e.target.parentElement.close()}))}function g(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=[];if(localStorage){var S=localStorage.getItem(b);S&&C.push.apply(C,g(JSON.parse(S)))}C.length>0?C.splice.apply(C,[0,C.length].concat(g(C.map((function(e){return new o(e.title,e.author,e.numOfPages,e.readState)}))))):(C.push(new o("Murder On The Orient Express","Agatha Christie","256")),C.push(new o("Death on the Nile","Agatha Christie","288",!0))),document.body.appendChild(document.createElement("h1").appendChild(document.createTextNode("Odin Library")).parentElement),window.HTMLDialogElement?function(e){var t=p("+","button","new-book-dialog-show-btn");t.addEventListener("click",(function(){document.querySelector("dialog").showModal()})),l(t,[["aria-label","Add new book"],["title","Add new book"]]),document.body.appendChild(document.createElement("div").appendChild(t).parentElement);var r=document.createElement("dialog"),n=p("x","button","new-book-dialog-close-btn");l(n,[["aria-label","Close"],["title","Close"]]),r.appendChild(document.createElement("div").appendChild(n).parentElement),n.addEventListener("click",(function(){return document.querySelector("dialog").close()})),y(r,e),document.body.appendChild(r)}(C):y(document.body,C);var w=document.createElement("div");w.className="books-container",document.body.appendChild(w);for(var k=C.length-1;k>=0;k--)v(C[k],w,C)}();
//# sourceMappingURL=odin-library.4c153964dac679354db2.bundle.js.map