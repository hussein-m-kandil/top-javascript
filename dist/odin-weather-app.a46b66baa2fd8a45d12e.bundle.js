!function(){"use strict";function t(t,e,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];if("string"!=typeof t)throw TypeError("Missing 'tagName' of type 'string'!");const i=document.createElement(t);if(e&&(i.className=e),n&&(i.textContent=n),1===a.length&&Array.isArray(a[0])&&Array.isArray(a[0][0])&&(a=a.flat(1)),a.length>0)for(let t=0;t<a.length;t++){if(!Array.isArray(a[t])||2!==a[t].length||!a[t][0]||"string"!=typeof a[t][0])throw TypeError("A given attribute in '...attrs' must be in the form of [string, string]");(a[t][1]||0===a[t][1]||""===a[t][1])&&i.setAttribute(a[t][0],a[t][1])}return i}function e(e,n,r){const a=document.querySelector(`.${e}`);a&&([...a.children].forEach((t=>t.remove())),a.append(function(e,n){let r,a,o,i,s;const c=e.current.condition.text,l=e.current.humidity;"celsius"===n.toLowerCase()?(r="C",o=e.current.feelslike_c,a=e.current.temp_c,i=e.forecast.forecastday[0].day.maxtemp_c,s=e.forecast.forecastday[0].day.mintemp_c):(r="F",a=e.current.temp_f,o=e.current.feelslike_f,i=e.forecast.forecastday[0].day.maxtemp_f,s=e.forecast.forecastday[0].day.mintemp_f);const u=t("div","current-weather"),d=t("div","condition",`${c}`),p=t("div","current-temp",`${a} ${r}`),m=t("div","humidity",`Humidity ${l}%`),f=t("div","min-max-temp");return p.append(t("span","feels-like",` Feels like ${o} ${r}`)),f.append(t("span","high-temp",`H ${i} ${r}`),t("span","min-max-v-div"," | "),t("span","low-temp",`L ${s} ${r}`)),u.append(d,p,m,f),u}(n,r)))}const n="weather-content",r=["Celsius","Fahrenheit"];let a=r[0],o=null;const i=t("h1","app-title","Odin Weather App"),s=function(r){const i=t("form","weather-location"),s=t("input","location","",["type","text"],["name","location"],["placeholder",'Location (e.g. "Cairo")'],["autocomplete","on"],["autofocus",""]),c=t("button","location","",["type","submit"],["aria-label","Get weather"]),l=t("span","ui-only","🔍",["aria-hidden","true"]),u=t("div","error");return c.appendChild(l),i.append(u,s,c),i.addEventListener("submit",(t=>{t.preventDefault(),i.classList.add("invalid");const r=i.location.value;r?/^[\w-\s'"]+$/.test(r)?(u.textContent="",i.classList.remove("invalid"),(t=>{(function(t){return new Promise(((e,n)=>{(async function(t){try{const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=646f26dea5ab4974bc3120515240604&q=${t}`,{mode:"cors"});if(e.ok)return await e.json();throw Error("Fetched response in not ok!")}catch(t){console.log(`${t.name} in 'getWeatherData': \n\t${t.message}`)}return null})(t).then((t=>{t?e(t):n(Error("There is no weather data!"))}))}))})(t).then((t=>{console.dir(t),o=t,e(n,o,a)})).catch((t=>console.log(`${t.name} after 'getWeatherData': \n\t${t.message}`)))})(r)):u.textContent="* Invalid location name!":u.textContent="* Location is required!"})),i}(),c=function(e,n){if(!n)throw Error("Missing argument: 'toggleCallback' type 'function'");if(!e)throw Error("Missing argument: 'values' type 'string[]'");if(!Array.isArray(e)||e.length<1)throw TypeError("Invalid argument: 'values' must be non-empty array of strings");let r=0;const a=t("button","toggler",e[r],["type","button"]);return a.addEventListener("click",(()=>{r=(r+1)%e.length,a.textContent=e[r],n({index:r,value:e[r]})})),a}(r,(t=>{let{value:r}=t;a=r,o&&e(n,o,a)})),l=t("div",n),u=t("footer","link-back");u.append(document.createTextNode("Powered by "),t("a","weather-api"," WeatherAPI.com",["href","https://www.weatherapi.com/"],["title","Weather API"])),document.body.append(i,s,c,l,u)}();
//# sourceMappingURL=odin-weather-app.a46b66baa2fd8a45d12e.bundle.js.map